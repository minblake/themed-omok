(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],m=0,p=[];m<c.length;m++)o=c[m],a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/themed-omok/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00da":function(e,t,n){e.exports=n.p+"img/pokeball.2adfd229.png"},"13b0":function(e,t,n){e.exports=n.p+"img/goomba.13d06723.png"},1448:function(e,t,n){e.exports=n.p+"img/mushroom_1up.83fee326.png"},"14c3":function(e,t,n){"use strict";var r=n("4102"),a=n.n(r);a.a},"1e6b":function(e,t,n){e.exports=n.p+"img/mushroom_super.127babb3.png"},"295f":function(e,t,n){e.exports=n.p+"img/panda_teddy.9688e2e9.png"},"2b2f":function(e,t,n){e.exports=n.p+"img/game.15af3824.jpg"},4102:function(e,t,n){},"4d9e":function(e,t,n){"use strict";var r=n("f86b"),a=n.n(r);a.a},5408:function(e,t,n){e.exports=n.p+"img/chain_chomp.14605c7a.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,a,i,o=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("omok-game")],1)},s=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"omok-game",style:{backgroundImage:"url("+e.themeBackground+")"}},[n("omok-game-state"),n("omok-game-board"),n("omok-game-player",{attrs:{num:0}}),n("omok-game-player",{attrs:{num:1}})],1)},l=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"omok-game-state"},[n("div",{staticClass:"box"},[n("omok-game-state-theme"),n("omok-game-state-msg"),n("button",{staticClass:"button is-small is-rounded is-danger",on:{click:e.resetGame}},[e._v("\n      Play Again!\n    ")])],1)])},p=[],f=n("cebc"),d=n("2f62"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select is-small"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?n:n[0]}}},e._l(e.themes,function(t,r){return n("option",{key:t.name,domProps:{value:r}},[e._v(e._s(t.name))])}),0)])},b=[],h={name:"OmokGameStateTheme",computed:{themes:function(){return this.$store.getters["theme/getThemes"]},selected:{get:function(){return this.$store.getters["theme/getCurr"]},set:function(e){this.$store.dispatch("theme/setCurrTheme",e)}}}},A=h,v=n("2877"),y=Object(v["a"])(A,g,b,!1,null,null,null),P=y.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"omok-game-state-msg"},[e.hasWinner?n("p",[e._v("\n    "+e._s(e.currPlayer.name+" Wins!")+"\n  ")]):n("p",[e._v("\n    "+e._s(e.currPlayer.name+"'s Turn")+"\n  ")]),n("img",{staticClass:"omok-game-state-msg-piece",attrs:{src:e.currPlayer.pieceUrl}})])},x=[],k={name:"OmokGameStateMsg",computed:{currPlayer:function(){return this.$store.getters["getCurrPlayerInfo"]},hasWinner:function(){return this.$store.getters["getHasWinner"]}}},E=k,S=(n("4d9e"),Object(v["a"])(E,O,x,!1,null,null,null)),C=S.exports,M={name:"OmokGameState",components:{OmokGameStateTheme:P,OmokGameStateMsg:C},methods:Object(f["a"])({},Object(d["b"])(["resetGame"]))},I=M,j=(n("14c3"),Object(v["a"])(I,m,p,!1,null,null,null)),_=j.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"omok-game-board",style:{gridTemplate:"repeat("+e.boardDim.grid+", "+e.boardDim.intersection+"px) /repeat("+e.boardDim.grid+", "+e.boardDim.intersection+"px)"}},e._l(e.boardSize,function(t,r){return n("omok-game-board-intersection",{key:t,ref:"boardInts",refInFor:!0,attrs:{position:r,piece:e.board[r]}})}),1)},N=[],B=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"boardInt",staticClass:"omok-game-board-intersection",on:{click:function(t){!e.hasWinner&&e.endTurn(e.position)},mouseover:function(t){!e.hasWinner&&(e.isHover=!0)},mouseleave:function(t){!e.hasWinner&&(e.isHover=!1)}}},[e.piece>=0?n("img",{attrs:{src:e.pieceUrl(e.piece)}}):e._e(),e.isHover&&e.piece<0?n("img",{style:{opacity:.5},attrs:{src:e.currPieceUrl}}):e._e()])}),W=[],T=(n("c5f6"),{name:"OmokGameBoardIntersection",props:{position:{type:Number,required:!0},piece:{type:Number,default:-1}},data:function(){return{isHover:!1}},computed:{pieceUrl:function(){return this.$store.getters["theme/getPiece"]},currPieceUrl:function(){return this.$store.getters["getCurrPlayerInfo"].pieceUrl},hasWinner:function(){return this.$store.getters["getHasWinner"]}},methods:Object(f["a"])({},Object(d["b"])(["endTurn"]),{colorBg:function(){this.$refs.boardInt.classList.add("win")},removeBg:function(){this.$refs.boardInt.classList.remove("win")}})}),U=T,G=(n("adb3"),Object(v["a"])(U,B,W,!1,null,null,null)),z=G.exports,D={name:"OmokGameBoard",components:{OmokGameBoardIntersection:z},computed:Object(f["a"])({},Object(d["c"])("board",{board:"getBoard",boardDim:"getDim",boardSize:"getBoardSize"}),Object(d["c"])({winningMoves:"getWinningMoves",hasWinner:"getHasWinner"})),watch:{hasWinner:function(){this.colorInts()}},methods:{colorInts:function(){var e=this.$refs.boardInts;this.hasWinner?this.winningMoves.forEach(function(t){return e[t].colorBg()}):e.forEach(function(e){return e.removeBg()})}}},H=D,L=(n("afa5"),Object(v["a"])(H,w,N,!1,null,null,null)),X=L.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"omok-game-player",style:[0===e.num?{gridArea:"player-one"}:{gridArea:"player-two"}]},[n("div",{staticClass:"card"},[n("header",{staticClass:"card-header"},[n("div",{staticClass:"card-header-title control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],staticClass:"input has-text-centered",attrs:{type:"text"},domProps:{value:e.playerName},on:{input:function(t){t.target.composing||(e.playerName=t.target.value)}}}),n("img",{staticClass:"player-piece",attrs:{src:e.pieces[e.player.piece]}})])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"buttons is-centered"},e._l(e.pieces,function(t,r){return n("button",{key:r,staticClass:"button",class:{"is-success":r==e.piecesInUse[e.num],"is-light":r==e.piecesInUse[(e.num+1)%2]},attrs:{disabled:e.piecesInUse.includes(r)},on:{click:function(t){return e.changePiece({player:e.num,oldPiece:e.player.piece,newPiece:r})}}},[n("img",{attrs:{src:t}})])}),0)])])])},K=[],F=(n("7f7f"),{name:"OmokGamePlayer",props:{num:{type:Number,required:!0}},computed:{pieces:function(){return this.$store.getters["theme/getCurrPieces"]},piecesInUse:function(){return this.$store.getters["player/getPiecesInUse"]},player:function(){return this.$store.getters["player/getPlayer"](this.num)},playerName:{get:function(){return this.player.name},set:function(e){this.setName({i:this.num,name:e})}}},methods:Object(f["a"])({},Object(d["b"])("player",["setName","setPiece"]),Object(d["b"])(["changePiece"]))}),R=F,V=(n("77df"),Object(v["a"])(R,J,K,!1,null,null,null)),$=V.exports,Z={name:"OmokGame",components:{OmokGameState:_,OmokGameBoard:X,OmokGamePlayer:$},computed:{themeBackground:function(){return this.$store.getters["theme/getCurrBg"]}}},Q=Z,Y=(n("f1a1"),Object(v["a"])(Q,u,l,!1,null,null,null)),q=Y.exports,ee={name:"App",components:{OmokGame:q}},te=ee,ne=Object(v["a"])(te,c,s,!1,null,null,null),re=ne.exports,ae=n("bd86"),ie=(n("6c7b"),"SET_LAST_MOVE"),oe="SET_WINNING_MOVES",ce="SET_HAS_WINNER",se="TOGGLE_CURR_PLAYER",ue="RESET_GAME_STATE",le="UPDATE_PIECE",me="PLACE_PIECE",pe="RESET_BOARD",fe="SET_PIECE",de="SET_NAME",ge="SET_CURR_THEME",be={namespaced:!0,state:{dim:{grid:15,intersection:25},board:Array(225).fill(-1)},getters:{getDim:function(e){return e.dim},getBoard:function(e){return e.board},getBoardSize:function(e){return e.board.length}},mutations:(r={},Object(ae["a"])(r,me,function(e,t){e.board.splice(t.position,1,t.piece)}),Object(ae["a"])(r,le,function(e,t){e.board=e.board.map(function(e){return e==t.oldPiece?e=t.newPiece:e})}),Object(ae["a"])(r,pe,function(e){e.board=Array(225).fill(-1)}),r),actions:{placePiece:function(e,t){var n=e.commit;n(me,t)},updatePiece:function(e,t){var n=e.commit;n(le,t)},resetBoard:function(e){var t=e.commit;t(pe)}}},he={namespaced:!0,state:{players:[{name:"Player 1",piece:0},{name:"Player 2",piece:1}]},getters:{getPlayer:function(e){return function(t){return e.players[t]}},getPiecesInUse:function(e){return[e.players[0].piece,e.players[1].piece]}},mutations:(a={},Object(ae["a"])(a,de,function(e,t){var n=t.i,r=t.name;e.players[n].name=r}),Object(ae["a"])(a,fe,function(e,t){var n=t.i,r=t.piece;e.players[n].piece=r}),a),actions:{setName:function(e,t){var n=e.commit;n(de,t)},setPiece:function(e,t){var n=e.commit;n(fe,t)}}},Ae={namespaced:!0,state:{themes:[{name:"Maplestory",pieces:[n("b35f"),n("91e3"),n("8e47"),n("6510"),n("d61f"),n("295f")],bg:n("ea14")},{name:"Pokemon",pieces:[n("a76c"),n("beea"),n("a7c5"),n("00da"),n("d055"),n("f8da")],bg:n("9dba")},{name:"Super Mario",pieces:[n("1e6b"),n("1448"),n("8392"),n("6d46"),n("13b0"),n("5408")],bg:n("2b2f")}],curr:0},getters:{getCurr:function(e){return e.curr},getCurrTheme:function(e){return e.themes[e.curr]},getCurrBg:function(e){return e.themes[e.curr].bg},getCurrPieces:function(e){return e.themes[e.curr].pieces},getPiece:function(e){return function(t){return e.themes[e.curr].pieces[t]}},getThemes:function(e){return e.themes}},mutations:Object(ae["a"])({},ge,function(e,t){e.curr=t}),actions:{setCurrTheme:function(e,t){var n=e.commit;n(ge,t)}}},ve=function(e,t){return Math.floor(e/t)},ye=function(e,t){return e%t},Pe=function(e,t,n,r,a,i){var o,c=[];for(c.push(e),o=e-r;o>=t&&c.length<5&&a==i[o];o-=r)c.push(o);for(o=e+r;o<=n&&c.length<5&&a==i[o];o+=r)c.push(o);return c},Oe=function(e){var t=e.lastMove,n=e.piece,r=e.board,a=e.gridSize,i=ve(t,a),o=Math.max(i*a,t-4),c=Math.min((i+1)*a-1,t+4),s=1,u=Pe(t,o,c,s,n,r);return 5==u.length?u:null},xe=function(e){var t=e.lastMove,n=e.piece,r=e.board,a=e.gridSize,i=ye(t,a),o=Math.max(i,t-4*a),c=Math.min(i+a*(a-1),t+4*a),s=a,u=Pe(t,o,c,s,n,r);return 5==u.length?u:null},ke=function(e){var t,n,r=e.lastMove,a=e.piece,i=e.board,o=e.gridSize,c=ve(r,o),s=ye(r,o);t=c<4||s<4?Math.min(c,s):4,n=c>o-4||s>o-4?Math.min(o-1-c,o-1-s):4;var u=(c-t)*o+(s-t),l=(c+n)*o+(s+n),m=o+1,p=Pe(r,u,l,m,a,i);return 5==p.length?p:null},Ee=function(e){var t,n,r=e.lastMove,a=e.piece,i=e.board,o=e.gridSize,c=ve(r,o),s=ye(r,o);t=c<4||s>o-4?Math.min(c,o-1-s):4,n=c>o-4||s<4?Math.min(o-1-c,s):4;var u=(c-t)*o+(s+t),l=(c+n)*o+(s-n),m=o-1,p=Pe(r,u,l,m,a,i);return 5==p.length?p:null},Se=function(e){return Oe(e)||xe(e)||ke(e)||Ee(e)};o["a"].use(d["a"]);var Ce=new d["a"].Store({modules:{board:be,player:he,theme:Ae},state:{lastMove:-1,winningMoves:[],hasWinner:!1,currPlayerIndex:0},getters:{getCurrPlayerIndex:function(e){return e.currPlayerIndex},getCurrPlayerInfo:function(e,t,n,r){var a=t["player/getPlayer"](e.currPlayerIndex);return{name:a.name,piece:a.piece,pieceUrl:r["theme/getPiece"](a.piece)}},getLastMove:function(e){return e.lastMove},getWinningMoves:function(e){return e.winningMoves},getHasWinner:function(e){return e.hasWinner}},mutations:(i={},Object(ae["a"])(i,se,function(e){e.currPlayerIndex=(e.currPlayerIndex+1)%2}),Object(ae["a"])(i,ie,function(e,t){e.lastMove=t}),Object(ae["a"])(i,oe,function(e,t){e.winningMoves=t}),Object(ae["a"])(i,ce,function(e,t){e.hasWinner=t}),Object(ae["a"])(i,ue,function(e){e.lastMove=-1,e.winningMoves=[],e.hasWinner=!1,e.currPlayerIndex=0}),i),actions:{endTurn:function(e,t){var n=e.dispatch,r=e.commit,a=e.getters,i=a["getCurrPlayerInfo"],o={lastMove:t,piece:i.piece,board:a["board/getBoard"],gridSize:a["board/getDim"].grid};if(o.board[t]<0){n("board/placePiece",{position:t,piece:i.piece}),r(ie,t);var c=Se(o);c?(r(ce,!0),r(oe,c)):r(se)}},changePiece:function(e,t){var n=e.dispatch;n("board/updatePiece",t),n("player/setPiece",{i:t.player,piece:t.newPiece})},resetGame:function(e){var t=e.dispatch,n=e.commit;n(ue),t("board/resetBoard")}}});n("92c6");o["a"].config.productionTip=!1,new o["a"]({store:Ce,render:function(e){return e(re)}}).$mount("#app")},6510:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABO1BMVEXDS7YAAAD////D4/ySfVKslmrTvI97XSX/kGD/uJn/4dT55+PZOiH/cVr/yL///f3+/v79/f38/Pz7+/v6+vr5+fn4+Pj39/f29vb09PTz8/Py8vLx8fHv7+/t7e3s7Ozp6eno6Ojm5ubl5eXg4ODd3d3c3Nza2trZ2dnY2NjW1tbV1dXU1NTR0dHQ0NDOzs7Nzc3MzMzKysrJycnIyMjHx8fFxcXExMTDw8PAwMC/v7++vr68vLy7u7u6urq4uLi2traurq6tra2rq6unp6empqagoKCenp6cnJybm5uZmZmWlpaVlZWUlJSTk5OQkJCPj4+Ojo6NjY2Li4uKioqIiIiHh4eEhISDg4OCgoKBgYGAgIB/f39+fn59fX16enp3d3dzc3NxcXFwcHBsbGxqamppaWlnZ2dlZWUPZROfAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjAwsHAS2VLkXsAAAAv0lEQVQoz32S2xKEIAxDN7AKZUH//283KXJ5MjNazDEFBj6fNwH9PeoCBn7e911oomygmNuSxht4XNcO1AOm/7En5J/nQYLz+MIyJkB0y3HEAAoEEeiJBA/h+kJAAK4LLGFGOkj4tdZYJkARiO63ihhGrwEuMEAQN2BcytUEFKE/AAkaxBhBtgVIJsi2g6I+BLVC/lyWItW1An12n0bKK8AjMhNxy/WcIXdrfSJn3HcaIKmJdZtKA6y7MEcvN+cPawwJWm6i8d4AAAAASUVORK5CYII="},"6d46":function(e,t,n){e.exports=n.p+"img/boo.ef010cbe.png"},"77df":function(e,t,n){"use strict";var r=n("a03d"),a=n.n(r);a.a},8392:function(e,t,n){e.exports=n.p+"img/coin.0f8814e0.png"},"8e47":function(e,t,n){e.exports=n.p+"img/octopus.16ffce9a.png"},"8e96":function(e,t,n){},"91e3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGuSURBVHjatJXNTcMwFMedKAM4AyCRSF2gUg+cSzlwpKIL8LEBS8AGLSxAVAZo6JlDpS4QiRzgHg8ACn6xn534I6FCPMmqG9u///PfL3FQ1zX5r4i+P7fDk45OrQy+Pl6DwXW/gdZL/YwVhOxHeqxPJOCDXnBd8U5mj5WUNyb601u/QNgL9kS8IyShor+euW1zwmFiten3knJbSC4apX6B0AWmE/kg68meQ5NL/d8loDxvwHcyq4Fgx+K3kr6XPAkm+/Ncn0GkPF4OAAvZmXWzFz5xASIEcAcgEPnACuYIzLiJ3B5f3wsBUefcO7azJ8YPDrLxbCt9R1vaO2vgAIZsUnPh88Wg/9PFSzfrloCqlnRByPuNhkLDhQmNrYZgnIsVM8+NzKtMgxGGMZ6ca5uSa1KVj+JP8abmlqzqlCTa25QimA/wdMVFNlckHp3oF4aO3dXD9uJwpQgIwE4we6iWTp03k2VmPqhLBAXSs6fOF7Pzhh4KVnbJnZoFYH1bDgX3RfiXxabvXjj4BNWAC4agvgNtf9sj8+oyD7YvAIxQ160U+e5G3wXgCt9N9CPAAFKA4chApOKLAAAAAElFTkSuQmCC"},"9dba":function(e,t,n){e.exports=n.p+"img/pokeball.ef39fcba.jpg"},a03d:function(e,t,n){},a76c:function(e,t,n){e.exports=n.p+"img/pikachu.36f5b3f5.png"},a7c5:function(e,t,n){e.exports=n.p+"img/zubat.dab675ed.png"},adb3:function(e,t,n){"use strict";var r=n("b69f"),a=n.n(r);a.a},afa5:function(e,t,n){"use strict";var r=n("8e96"),a=n.n(r);a.a},b35f:function(e,t,n){e.exports=n.p+"img/slime.9ba608a9.png"},b69f:function(e,t,n){},beea:function(e,t,n){e.exports=n.p+"img/snorlax.256e9068.png"},c732:function(e,t,n){},d055:function(e,t,n){e.exports=n.p+"img/ultraball.d620f08b.png"},d61f:function(e,t,n){e.exports=n.p+"img/bloctopus.db90471f.png"},ea14:function(e,t,n){e.exports=n.p+"img/stump.58c81741.jpg"},f1a1:function(e,t,n){"use strict";var r=n("c732"),a=n.n(r);a.a},f86b:function(e,t,n){},f8da:function(e,t,n){e.exports=n.p+"img/egg.ec029bf7.png"}});
//# sourceMappingURL=app.828d9a3f.js.map